{"ast":null,"code":"var _jsxFileName = \"/Users/kong/workspace/indivisual/dwitter/Client/src/components/Tweets.jsx\",\n  _s = $RefreshSig$();\nimport React, { memo, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Banner from './Banner';\nimport NewTweetForm from './NewTweetForm';\nimport TweetCard from './TweetCard';\nimport { useAuth } from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Tweets = /*#__PURE__*/memo(_c = _s(_ref => {\n  _s();\n  let {\n    tweetService,\n    username,\n    addable\n  } = _ref;\n  const [tweets, setTweets] = useState([]);\n  const [error, setError] = useState('');\n  const history = useHistory();\n  const {\n    user\n  } = useAuth();\n  useEffect(() => {\n    tweetService.getTweets(username).then(tweets => setTweets([...tweets])).catch(onError);\n  }, [tweetService, username, user]);\n  const onCreated = tweet => {\n    setTweets(tweets => [tweet, ...tweets]);\n  };\n  const onDelete = tweetId => tweetService.deleteTweet(tweetId).then(() => setTweets(tweets => tweets.filter(tweet => tweet.id !== tweetId))).catch(error => setError(error.toString()));\n  const onUpdate = (tweetId, text) => tweetService.updateTweet(tweetId, text).then(updated => setTweets(tweets => tweets.map(item => item.id === updated.id ? updated : item))).catch(error => error.toString());\n  const onUsernameClick = tweet => history.push(`/${tweet.username}`);\n  const onError = error => {\n    setError(error.toString());\n    setTimeout(() => {\n      setError('');\n    }, 3000);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [addable && /*#__PURE__*/_jsxDEV(NewTweetForm, {\n      tweetService: tweetService,\n      onError: onError,\n      onCreated: onCreated\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(Banner, {\n      text: error,\n      isAlert: true,\n      transient: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }, this), tweets.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"tweets-empty\",\n      children: \"No Tweets Yet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 31\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"tweets\",\n      children: tweets.map(tweet => /*#__PURE__*/_jsxDEV(TweetCard, {\n        tweet: tweet,\n        owner: tweet.username === user.username,\n        onDelete: onDelete,\n        onUpdate: onUpdate,\n        onUsernameClick: onUsernameClick\n      }, tweet.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}, \"E9YcZYjR0TGX4AVylP/JikZJs2Q=\", false, function () {\n  return [useHistory, useAuth];\n}));\n_c2 = Tweets;\nexport default Tweets;\nvar _c, _c2;\n$RefreshReg$(_c, \"Tweets$memo\");\n$RefreshReg$(_c2, \"Tweets\");","map":{"version":3,"names":["React","memo","useEffect","useState","useHistory","Banner","NewTweetForm","TweetCard","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","Tweets","_c","_s","_ref","tweetService","username","addable","tweets","setTweets","error","setError","history","user","getTweets","then","catch","onError","onCreated","tweet","onDelete","tweetId","deleteTweet","filter","id","toString","onUpdate","text","updateTweet","updated","map","item","onUsernameClick","push","setTimeout","children","fileName","_jsxFileName","lineNumber","columnNumber","isAlert","transient","length","className","owner","_c2","$RefreshReg$"],"sources":["/Users/kong/workspace/indivisual/dwitter/Client/src/components/Tweets.jsx"],"sourcesContent":["import React, { memo, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Banner from './Banner';\nimport NewTweetForm from './NewTweetForm';\nimport TweetCard from './TweetCard';\nimport { useAuth } from '../context/AuthContext';\n\nconst Tweets = memo(({ tweetService, username, addable }) => {\n  const [tweets, setTweets] = useState([]);\n  const [error, setError] = useState('');\n  const history = useHistory();\n  const { user } = useAuth();\n\n  useEffect(() => {\n    tweetService\n      .getTweets(username)\n      .then((tweets) => setTweets([...tweets]))\n      .catch(onError);\n  }, [tweetService, username, user]);\n\n  const onCreated = (tweet) => {\n    setTweets((tweets) => [tweet, ...tweets]);\n  };\n\n  const onDelete = (tweetId) =>\n    tweetService\n      .deleteTweet(tweetId)\n      .then(() =>\n        setTweets((tweets) => tweets.filter((tweet) => tweet.id !== tweetId))\n      )\n      .catch((error) => setError(error.toString()));\n\n  const onUpdate = (tweetId, text) =>\n    tweetService\n      .updateTweet(tweetId, text)\n      .then((updated) =>\n        setTweets((tweets) =>\n          tweets.map((item) => (item.id === updated.id ? updated : item))\n        )\n      )\n      .catch((error) => error.toString());\n\n  const onUsernameClick = (tweet) => history.push(`/${tweet.username}`);\n\n  const onError = (error) => {\n    setError(error.toString());\n    setTimeout(() => {\n      setError('');\n    }, 3000);\n  };\n\n  return (\n    <>\n      {addable && (\n        <NewTweetForm\n          tweetService={tweetService}\n          onError={onError}\n          onCreated={onCreated}\n        />\n      )}\n      {error && <Banner text={error} isAlert={true} transient={true} />}\n      {tweets.length === 0 && <p className='tweets-empty'>No Tweets Yet</p>}\n      <ul className='tweets'>\n        {tweets.map((tweet) => (\n          <TweetCard\n            key={tweet.id}\n            tweet={tweet}\n            owner={tweet.username === user.username}\n            onDelete={onDelete}\n            onUpdate={onUpdate}\n            onUsernameClick={onUsernameClick}\n          />\n        ))}\n      </ul>\n    </>\n  );\n});\nexport default Tweets;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}